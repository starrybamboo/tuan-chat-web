# 变更提案: 空间首次进入默认打开首个房间

## 需求背景
当前在空间模式首次进入（URL ȱʧ roomId）时，前端会在房间列表尚未加载完成的阶段触发默认选房间逻辑，导致跳转到 `/chat/<spaceId>/null`。该 URL 会阻断后续“缺失 roomId 时自动选择第一个房间”的逻辑，从而无法进入首个房间。

## 变更内容
1. 仅在房间列表加载完成且存在房间时，才执行默认选中首个房间的跳转。
2. 默认房间选择遵循用户自定义排序（侧边栏顺序）。
3. 修复 `roomId=null` 时生成 `/null` 路径段的问题，并将 URL 段为字符串 `null` 的情况视为缺失 roomId 进行回填。

## 影响范围
- **模块:** Chat（前端路由/房间选择）
- **文件:**
  - `app/components/chat/chatPage.tsx`

## 核心场景

### 需求: 空间首次进入自动进入首个房间
**模块:** Chat

#### 场景: 用户首次打开空间（URL 缺失或为 null）
进入 `/chat/<spaceId>` 或 `/chat/<spaceId>/null` 后：
- 房间列表加载完成时，自动选择自定义排序的第一个房间
- URL 使用 `replace` 或等价方式进入 `/chat/<spaceId>/<firstRoomId>`，不会出现 `/null`

## 风险评估
- **风险:** 路由回填逻辑触发时机变更可能引发重复导航
- **缓解:** 仅在 `rooms.length>0` 且 `urlRoomId` ȱʧ/无效时触发，避免空列表与已选房间重复跳转
