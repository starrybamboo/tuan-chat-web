# why

## 问题

- “复制到空间侧边栏”会创建 `space_doc` 并写入 sidebarTree，但复制后的文档内容为空，侧边栏标题也可能被 Blocksuite 默认值覆盖（看起来像“新建文档”）。

## 根因

- 复制逻辑没有强制校验“源文档快照可读取”，当 `/blocksuite/doc` 因权限或未落库返回空时，仍继续创建目标文档，导致副本为空。
- 复制逻辑未将 `(副本)` 标题/封面写入 Blocksuite 文档的 `tc_header`，打开后可能被初始化逻辑覆盖。

## 目标

- 复制前先读取源文档快照，不可读则直接失败并提示（不再创建空白副本）。
- 在写入目标快照前，对快照做一次 `tc_header` 补丁（title/cover），保证副本标题/封面稳定。

