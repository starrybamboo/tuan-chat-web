# 任务清单: 全局音频悬浮球与播放聚合

Ŀ¼: `helloagents/plan/202601281930_audio-playback-floatball/`

---

## 1. 播放聚合与 UI
- [√] 1.1 实现全局播放状态 store（条目注册/更新/移除），验证 why.md#需求-查看所有正在播放的音频-场景-多音频同时播放
- [√] 1.2 实现播放器注册 hook（onPlay/onPause/onEnded 事件映射），验证 why.md#需求-查看所有正在播放的音频-场景-多音频同时播放
- [√] 1.3 实现全局悬浮球（数量徽标 + 列表 + 操作），验证 why.md#需求-查看所有正在播放的音频-场景-多音频同时播放

## 2. 播放器接入
- [√] 2.1 Chat 音频消息接入注册并提供标题信息，验证 why.md#需求-音频播放消息仍独立显示-场景-从消息流播放音频
- [√] 2.2 通用 AudioPlayer 接入注册，验证 why.md#需求-音频播放消息仍独立显示-场景-从消息流播放音频
- [√] 2.3 角色语音播放器接入注册，验证 why.md#需求-音频播放消息仍独立显示-场景-从消息流播放音频
- [√] 2.4 BGM 播放状态桥接到全局聚合，验证 why.md#需求-查看所有正在播放的音频-场景-多音频同时播放

## 3. 安全检查
- [√] 3.1 执行安全检查（按G9：不引入敏感信息硬编码，不新增高风险外部调用）

## 4. 文档更新
- [√] 4.1 更新 `helloagents/wiki/modules/chat.md`
- [√] 4.2 新增/更新 `helloagents/wiki/modules/OSS.md`（记录音频上传压缩/转码策略）
- [√] 4.3 更新 `helloagents/CHANGELOG.md` 与 `helloagents/history/index.md`

## 5. 质量验证
- [√] 5.1 运行定向 ESLint：涉及文件无 error/warning
