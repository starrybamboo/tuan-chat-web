# 变更历史索引

本文件记录所有已完成变更的索引，便于追溯和查询。

---

## 索引

| 时间戳 | 功能名称 | 类型 | 状态 | 方案包路径 |
|--------|----------|------|------|------------|

| 202601310103 | unread-title-debug | 修复 | 已完成 | [2026-01/202601310103_unread-title-debug/](2026-01/202601310103_unread-title-debug/) |
| 202601310016 | unread-title-realtime | 修复 | 已完成 | [2026-01/202601310016_unread-title-realtime/](2026-01/202601310016_unread-title-realtime/) |
| 202601302255 | kp_role_select_all | 变更 | 已完成 | [2026-01/202601302255_kp-role-select/](2026-01/202601302255_kp-role-select/) |
| 202601291856 | fix_eslint_lint | 修复 | 已完成 | [2026-01/202601291856_fix-eslint-lint/](2026-01/202601291856_fix-eslint-lint/) |
| 202601291407 | remove_bgm_floatball | 变更 | 已完成 | [2026-01/202601291407_remove-bgm-floatball/](2026-01/202601291407_remove-bgm-floatball/) |
| 202601290010 | chat_audio_preload_metadata | 变更 | 已完成 | [2026-01/202601290010_chat-audio-preload-metadata/](2026-01/202601290010_chat-audio-preload-metadata/) |
| 202601290000 | chat_audio_no_truncate | 变更 | 已完成 | [2026-01/202601290000_chat-audio-no-truncate/](2026-01/202601290000_chat-audio-no-truncate/) |
| 202601290020 | chat_audio_prefer_smaller | 变更 | 已完成 | [2026-01/202601290020_chat-audio-prefer-smaller/](2026-01/202601290020_chat-audio-prefer-smaller/) |
| 202601282350 | audio_transcode_oob_retry | 修复 | 已完成 | [2026-01/202601282350_audio-transcode-oob-retry/](2026-01/202601282350_audio-transcode-oob-retry/) |
| 202601282340 | audio_core_exports_fix | 修复 | 已完成 | [2026-01/202601282340_audio-core-exports-fix/](2026-01/202601282340_audio-core-exports-fix/) |
| 202601282320 | audio_core_bundled | 修复 | 已完成 | [2026-01/202601282320_audio-core-bundled/](2026-01/202601282320_audio-core-bundled/) |
| 202601282240 | audio_transcode_timeout | 修复 | 已完成 | [2026-01/202601282240_audio-transcode-timeout/](2026-01/202601282240_audio-transcode-timeout/) |
| 202601282120 | audio_ogg_volume_nan | 修复 | 已完成 | [2026-01/202601282120_audio-ogg-volume-nan/](2026-01/202601282120_audio-ogg-volume-nan/) |
| 202601281955 | audio_upload_debug | 变更 | 已完成 | [2026-01/202601281955_audio-upload-debug/](2026-01/202601281955_audio-upload-debug/) |
| 202601281840 | audio_send_nan | 修复 | 已完成 | [2026-01/202601281840_audio-send-nan/](2026-01/202601281840_audio-send-nan/) |
| 202601281930 | audio_playback_floatball | 功能 | 已完成 | [2026-01/202601281930_audio-playback-floatball/](2026-01/202601281930_audio-playback-floatball/) |
| 202601272308 | blocksuite_yjs_sync_adapter | 变更 | 已完成 | [2026-01/202601272308_blocksuite_yjs_sync_adapter/](2026-01/202601272308_blocksuite_yjs_sync_adapter/) |
| 202601272208 | audio_stream | 变更 | 已完成 | [2026-01/202601272208_audio-stream/](2026-01/202601272208_audio-stream/) |
| 202601272047 | blocksuite_mention_overlay_v3 | 修复 | 已完成 | [2026-01/202601272047_blocksuite-mention-overlay-v3/](2026-01/202601272047_blocksuite-mention-overlay-v3/) |
| 202601271925 | blocksuite_mention_overlay_v2 | 修复 | 已完成 | [2026-01/202601271925_blocksuite-mention-overlay-v2/](2026-01/202601271925_blocksuite-mention-overlay-v2/) |
| 202601271841 | blocksuite_mention_overlay | 修复 | 已完成 | [2026-01/202601271841_blocksuite-mention-overlay/](2026-01/202601271841_blocksuite-mention-overlay/) |
| 202601270403 | docfolder_docref_drop | 功能 | 已完成 | [2026-01/202601270403_docfolder_docref_drop/](2026-01/202601270403_docfolder_docref_drop/) |
| 202601270013 | docref_sidebar_drop_fix | 修复 | 已完成 | [2026-01/202601270013_docref_sidebar_drop_fix/](2026-01/202601270013_docref_sidebar_drop_fix/) |
| 202601262156 | doc_message_drag_copy_to_sidebar | 功能 | 已完成 | [2026-01/202601262156_doc_message_drag_copy_to_sidebar/](2026-01/202601262156_doc_message_drag_copy_to_sidebar/) |
| 202601262154 | remove_name_mismatch_star | 变更 | 已完成 | [2026-01/202601262154_remove-name-mismatch-star/](2026-01/202601262154_remove-name-mismatch-star/) |
| 202601262104 | doc_copy_content_fix | 修复 | 已完成 | [2026-01/202601262104_doc_copy_content_fix/](2026-01/202601262104_doc_copy_content_fix/) |
| 202601261943 | doc_copy_snapshot | 修复 | 已完成 | [2026-01/202601261943_doc_copy_snapshot/](2026-01/202601261943_doc_copy_snapshot/) |
| 202601261920 | doc_message_copy_space_doc_fix | 修复 | 已完成 | [2026-01/202601261920_doc_message_copy_space_doc_fix/](2026-01/202601261920_doc_message_copy_space_doc_fix/) |
| 202601261854 | doc_message_copy | 功能 | 已完成 | [2026-01/202601261854_doc_message_copy/](2026-01/202601261854_doc_message_copy/) |
| 202601261703 | sidebar_tree_doc_cache | 优化 | 已完成 | [2026-01/202601261703_sidebar_tree_doc_cache/](2026-01/202601261703_sidebar_tree_doc_cache/) |
| 202601261150 | doccard_render_fix | 修复 | 已完成 | [2026-01/202601261150_doccard_render_fix/](2026-01/202601261150_doccard_render_fix/) |
| 202601261131 | docref_drag_hint | 优化 | 已完成 | [2026-01/202601261131_docref_drag_hint/](2026-01/202601261131_docref_drag_hint/) |
| 202601252318 | docref_drag_drop_fix | 修复 | 已完成 | [2026-01/202601252318_docref_drag_drop_fix/](2026-01/202601252318_docref_drag_drop_fix/) |
| 202601252218 | docref_rename | 变更 | 已完成 | [2026-01/202601252218_docref_rename/](2026-01/202601252218_docref_rename/) |
| 202601252021 | doc_message_card | 功能 | 已完成 | [2026-01/202601252021_doc_message_card/](2026-01/202601252021_doc_message_card/) |
| 202601251900 | chat-docfolder-ui | 功能 | 已完成 | [2026-01/202601251900_chat-docfolder-ui/](2026-01/202601251900_chat-docfolder-ui/) |
| 202601242150 | webgal_realtime_resync | 修复 | 已完成 | [2026-01/202601242150_webgal_realtime_resync/](2026-01/202601242150_webgal_realtime_resync/) |
| 202601241705 | chat-mention-all | 变更 | 已完成 | [2026-01/202601241705_chat-mention-all/](2026-01/202601241705_chat-mention-all/) |
| 202601242230 | chat_avatar_runtime_default | 修复 | 已完成 | [2026-01/202601242230_chat_avatar_runtime_default/](2026-01/202601242230_chat_avatar_runtime_default/) |
| 202601242032 | chat_import_fill_avatar_map | 修复 | 已完成（已被后续方案覆盖） | [2026-01/202601242032_chat_import_fill_avatar_map/](2026-01/202601242032_chat_import_fill_avatar_map/) |
| 202601232244 | role_avatar_render_edit | 变更 | 已完成 | [2026-01/202601232244_role-avatar-render-edit/](2026-01/202601232244_role-avatar-render-edit/) |
| 202601232052 | chat_import_preserve_speaker_name | 变更 | 已完成 | [2026-01/202601232052_chat_import_preserve_speaker_name/](2026-01/202601232052_chat_import_preserve_speaker_name/) |
| 202601232052 | chat_text_selection | 修复 | 已完成 | [2026-01/202601232052_chat_text_selection/](2026-01/202601232052_chat_text_selection/) |
| 202601231857 | chat_drag_auto_scroll | 修复 | 已完成 | [2026-01/202601231857_chat-drag-auto-scroll/](2026-01/202601231857_chat-drag-auto-scroll/) |

| 202601231852 | role_avatar_replace | 功能 | 已完成 | [2026-01/202601231852_role-avatar-replace/](2026-01/202601231852_role-avatar-replace/) |
| 202601231851 | role_avatar_fallback | 修复 | 已完成 | [2026-01/202601231851_role_avatar_fallback/](2026-01/202601231851_role_avatar_fallback/) |
| 202601231830 | webgal_disable_autojump | 变更 | 已完成 | [2026-01/202601231830_webgal_disable_autojump/](2026-01/202601231830_webgal_disable_autojump/) |
| 202601070338 | blocksuite_docs | 功能 | 已完成 | [2026-01/202601070338_blocksuite_docs/](2026-01/202601070338_blocksuite_docs/) |
| 202601070431 | blocksuite_docs_0_22_4 | 文档 | 已跳过 | [2026-01/202601070431_blocksuite_docs_0_22_4/](2026-01/202601070431_blocksuite_docs_0_22_4/) |
| 202601070539 | blocksuite_docs_0224 | 文档 | 已跳过 | [2026-01/202601070539_blocksuite_docs_0224/](2026-01/202601070539_blocksuite_docs_0224/) |
| 202601081220 | blocksuite_css_regression | 修复 | 已完成 | [2026-01/202601081220_blocksuite_css_regression/](2026-01/202601081220_blocksuite_css_regression/) |
| 202601082056 | blocksuite_strict_style_isolation | 修复 | 已完成（已废弃） | [2026-01/202601082056_blocksuite_strict_style_isolation/](2026-01/202601082056_blocksuite_strict_style_isolation/) |
| 202601082212 | blocksuite_style_isolation_official | 修复 | 已完成 | [2026-01/202601082212_blocksuite_style_isolation_official/](2026-01/202601082212_blocksuite_style_isolation_official/) |
| 202601082245 | blocksuite_iframe_isolation | 修复 | 已完成 | [2026-01/202601082245_blocksuite_iframe_isolation/](2026-01/202601082245_blocksuite_iframe_isolation/) |
| 202601110311 | blocksuite_ssr_doc_metas | 修复 | 已完成 | [2026-01/202601110311_blocksuite_ssr_doc_metas/](2026-01/202601110311_blocksuite_ssr_doc_metas/) |
| 202601110741 | blocksuite_ssr_safe_imports | 修复 | 已完成 | [2026-01/202601110741_blocksuite_ssr_safe_imports/](2026-01/202601110741_blocksuite_ssr_safe_imports/) |
| 202601111227 | webgal_realtime_create_game_no_template | 修复 | 已完成 | [2026-01/202601111227_webgal_realtime_create_game_no_template/](2026-01/202601111227_webgal_realtime_create_game_no_template/) |
| 202601111240 | webgal_settings_terre_port_indexeddb | 功能 | 已完成 | [2026-01/202601111240_webgal_settings_terre_port_indexeddb/](2026-01/202601111240_webgal_settings_terre_port_indexeddb/) |
| 202601131356 | ai_image | 功能 | 已完成 | [2026-01/202601131356_ai_image/](2026-01/202601131356_ai_image/) |
| 202601131515 | sidebar_tree_restore | 修复 | 已完成 | [2026-01/202601131515_sidebar_tree_restore/](2026-01/202601131515_sidebar_tree_restore/) |
| 202601131558 | create_tabs | 优化 | 已完成 | [2026-01/202601131558_create_tabs/](2026-01/202601131558_create_tabs/) |
| 202601131930 | blocksuite_doc_header_bar | 功能 | 已完成 | [2026-01/202601131930_blocksuite_doc_header_bar/](2026-01/202601131930_blocksuite_doc_header_bar/) |
| 202601140100 | sidebar_doc_style | 优化 | 已完成 | [2026-01/202601140100_sidebar_doc_style/](2026-01/202601140100_sidebar_doc_style/) |
| 202601140107 | quill_reference_audit | 文档 | 已完成 | [2026-01/202601140107_quill_reference_audit/](2026-01/202601140107_quill_reference_audit/) |
| 202601140226 | clue_doc_planA | 优化 | 已完成 | [2026-01/202601140226_clue_doc_planA/](2026-01/202601140226_clue_doc_planA/) |
| 202601140238 | webgal_space_vars | 功能 | 已完成 | [2026-01/202601140238_webgal_space_vars/](2026-01/202601140238_webgal_space_vars/) |
| 202601140247 | doc_meta_restore | 修复 | 已完成 | [2026-01/202601140247_doc_meta_restore/](2026-01/202601140247_doc_meta_restore/) |
| 202601140302 | clue_detail_ui_refactor | 优化 | 已完成 | [2026-01/202601140302_clue_detail_ui_refactor/](2026-01/202601140302_clue_detail_ui_refactor/) |
| 202601140300 | novelai_openapi_codegen | 功能 | 已完成 | [2026-01/202601140300_novelai_openapi_codegen/](2026-01/202601140300_novelai_openapi_codegen/) |
| 202601140410 | ai_image_novelapi_proxy | 功能 | 已完成 | [2026-01/202601140410_ai_image_novelapi_proxy/](2026-01/202601140410_ai_image_novelapi_proxy/) |
| 202601140425 | blocksuite_header_title_style | 优化 | 已完成 | [2026-01/202601140425_blocksuite_header_title_style/](2026-01/202601140425_blocksuite_header_title_style/) |
| 202601140543 | open-first-room | 修复 | 已完成 | [2026-01/202601140543_open-first-room/](2026-01/202601140543_open-first-room/) |
| 202601140558 | ai_image_ui_novelai | 优化 | 已完成 | [2026-01/202601140558_ai_image_ui_novelai/](2026-01/202601140558_ai_image_ui_novelai/) |
| 202601140604 | director_set_var | 优化 | 已完成 | [2026-01/202601140604_director_set_var/](2026-01/202601140604_director_set_var/) |
| 202601141319 | blocksuite_title_conflict_fix | 修复 | 已完成 | [2026-01/202601141319_blocksuite_title_conflict_fix/](2026-01/202601141319_blocksuite_title_conflict_fix/) |
| 202601141740 | lint_fix | 修复 | 已完成 | [2026-01/202601141740_lint_fix/](2026-01/202601141740_lint_fix/) |
| 202601141830 | blocksuite_doc_title_reset | 修复 | 已完成 | [2026-01/202601141830_blocksuite_doc_title_reset/](2026-01/202601141830_blocksuite_doc_title_reset/) |
| 202601141920 | ai_image_novelai | 功能 | 已完成（待确认） | [2026-01/202601141920_ai_image_novelai/](2026-01/202601141920_ai_image_novelai/) |
| 202601142115 | ai_image_dev_only | 优化 | 已完成 | [2026-01/202601142115_ai_image_dev_only/](2026-01/202601142115_ai_image_dev_only/) |
| 202601142140 | blocksuite_doc_title_optional_container | 修复 | 已完成 | [2026-01/202601142140_blocksuite_doc_title_optional_container/](2026-01/202601142140_blocksuite_doc_title_optional_container/) |
| 202601142246 | ai_image_meta_endpoint_fix | 修复 | 已完成 | [2026-01/202601142246_ai_image_meta_endpoint_fix/](2026-01/202601142246_ai_image_meta_endpoint_fix/) |
| 202601142250 | command_request_button | 功能 | 已完成 | [2026-01/202601142250_command_request_button/](2026-01/202601142250_command_request_button/) |
| 202601151614 | command_request_message_type | 功能 | 已完成 | [2026-01/202601151614_command_request_message_type/](2026-01/202601151614_command_request_message_type/) |
| 202601142337 | ai_image_proxy_env | 修复 | 已完成 | [2026-01/202601142337_ai_image_proxy_env/](2026-01/202601142337_ai_image_proxy_env/) |
| 202601151630 | ai_image_direct_fetch | 变更 | 已完成 | [2026-01/202601151630_ai_image_direct_fetch/](2026-01/202601151630_ai_image_direct_fetch/) |
| 202601151809 | ai_image_default_proxy | 变更 | 已完成 | [2026-01/202601151809_ai_image_default_proxy/](2026-01/202601151809_ai_image_default_proxy/) |
| 202601151716 | blocksuite_tc_header_mode_switch | 变更 | 已完成 | [2026-01/202601151716_blocksuite-tc-header-mode-switch/](2026-01/202601151716_blocksuite-tc-header-mode-switch/) |
| 202601161120 | novelai_nl_image_simple | 功能 | 已完成 | [2026-01/202601161120_novelai_nl_image_simple/](2026-01/202601161120_novelai_nl_image_simple/) |
| 202601171345 | blocksuite_mention_fix | 修复 | 已完成 | [2026-01/202601171345_blocksuite-mention-fix/](2026-01/202601171345_blocksuite-mention-fix/) |
| 202601171400 | blocksuite_canvas_inline | 优化 | 已完成 | [2026-01/202601171400_blocksuite-canvas-inline/](2026-01/202601171400_blocksuite-canvas-inline/) |
| 202601171414 | blocksuite_mention_fix2 | 修复 | 已完成 | [2026-01/202601171414_blocksuite-mention-fix2/](2026-01/202601171414_blocksuite-mention-fix2/) |
| 202601171430 | room_setting_height | 修复 | 已完成 | [2026-01/202601171430_room-setting-height/](2026-01/202601171430_room-setting-height/) |
| 202601171438 | blocksuite_mention_debug | 修复 | 已完成 | [2026-01/202601171438_blocksuite-mention-debug/](2026-01/202601171438_blocksuite-mention-debug/) |
| 202601171458 | novelai_model_lock_45_full | 变更 | 已完成 | [2026-01/202601171458_novelai_model_lock_45_full/](2026-01/202601171458_novelai_model_lock_45_full/) |
| 202601171622 | blocksuite_mention_click_debug | 修复 | 已完成（待确认） | [2026-01/202601171622_blocksuite-mention-click-debug/](2026-01/202601171622_blocksuite-mention-click-debug/) |
| 202601171640 | mention_tc_header_title | 修复 | 已完成 | [2026-01/202601171640_mention-tc-header-title/](2026-01/202601171640_mention-tc-header-title/) |
| 202601171657 | blocksuite_mention_host_click_debug | 修复 | 已完成（待确认） | [2026-01/202601171657_blocksuite-mention-host-click-debug/](2026-01/202601171657_blocksuite-mention-host-click-debug/) |
| 202601171723 | blocksuite_mention_enter_debug | 修复 | 已完成（待确认） | [2026-01/202601171723_blocksuite-mention-enter-debug/](2026-01/202601171723_blocksuite-mention-enter-debug/) |
| 202601171745 | blocksuite_mention_insert_fix | 修复 | 已完成（待确认） | [2026-01/202601171745_blocksuite-mention-insert-fix/](2026-01/202601171745_blocksuite-mention-insert-fix/) |
| 202601171831 | doc_sidebar_tc_header | 优化 | 已完成 | [2026-01/202601171831_doc_sidebar_tc_header/](2026-01/202601171831_doc_sidebar_tc_header/) |
| 202601171843 | blocksuite_kb_notes | 文档 | 已完成 | [2026-01/202601171843_blocksuite-kb-notes/](2026-01/202601171843_blocksuite-kb-notes/) |
| 202601171854 | ai_image_settings_modal | 优化 | 已完成 | [2026-01/202601171854_ai_image_settings_modal/](2026-01/202601171854_ai_image_settings_modal/) |
| 202601171905 | project_kb_expand | 文档 | 已完成 | [2026-01/202601171905_project_kb_expand/](2026-01/202601171905_project_kb_expand/) |
| 202601171911 | tc_header_no_reload | 修复 | 已完成 | [2026-01/202601171911_tc_header_no_reload/](2026-01/202601171911_tc_header_no_reload/) |
| 202601171932 | novelapi_proxy_stream_fix | 修复 | 已完成 | [2026-01/202601171932_novelapi_proxy_stream_fix/](2026-01/202601171932_novelapi_proxy_stream_fix/) |
| 202601172026 | ai_image_v4_params | 修复 | 已完成 | [2026-01/202601172026_ai_image_v4_params/](2026-01/202601172026_ai_image_v4_params/) |
| 202601172100 | ai_image_char_bg_layout | 变更 | 已完成 | [2026-01/202601172100_ai_image_char_bg_layout/](2026-01/202601172100_ai_image_char_bg_layout/) |
| 202601172234 | tc_header_upload_and_doc_lazy | 修复 | 已完成 | [2026-01/202601172234_tc_header_upload_and_doc_lazy/](2026-01/202601172234_tc_header_upload_and_doc_lazy/) |
| 202601192104 | merge_rerere | 变更 | 已完成 | [2026-01/202601192104_merge-rerere/](2026-01/202601192104_merge-rerere/) |
| 202601192227 | lint_fix | 修复 | 已完成 | [2026-01/202601192227_lint-fix/](2026-01/202601192227_lint-fix/) |
| 202601201337 | chat_import_text | 功能 | 已完成 | [2026-01/202601201337_chat_import_text/](2026-01/202601201337_chat_import_text/) |
| 202601201425 | blocksuite_mention_user_submenu | 优化 | 已完成 | [2026-01/202601201425_blocksuite_mention_user_submenu/](2026-01/202601201425_blocksuite_mention_user_submenu/) |
| 202601201439 | room_npc_create | 功能 | 已完成 | [2026-01/202601201439_room_npc_create/](2026-01/202601201439_room_npc_create/) |
| 202601201451 | blocksuite_mention_user_profile | 修复 | 已完成 | [2026-01/202601201451_blocksuite_mention_user_profile/](2026-01/202601201451_blocksuite_mention_user_profile/) |
| 202601201551 | blocksuite_mention_inline_avatar | 修复 | 已完成 | [2026-01/202601201551_blocksuite_mention_inline_avatar/](2026-01/202601201551_blocksuite_mention_inline_avatar/) |
| 202601201622 | blocksuite_mention_remove_at | 优化 | 已完成 | [2026-01/202601201622_blocksuite_mention_remove_at/](2026-01/202601201622_blocksuite_mention_remove_at/) |
| 202601201638 | blocksuite_disable_debug_logs | 优化 | 已完成 | [2026-01/202601201638_blocksuite_disable_debug_logs/](2026-01/202601201638_blocksuite_disable_debug_logs/) |
| 202601211600 | blocksuite_mention_profile_popover | 功能 | 已完成 | [2026-01/202601211600_blocksuite_mention_profile_popover/](2026-01/202601211600_blocksuite_mention_profile_popover/) |
| 202601211623 | chat_import_figure_position | 功能 | 已完成 | [2026-01/202601211623_chat_import_figure_position/](2026-01/202601211623_chat_import_figure_position/) |
| 202601211740 | room-role-delete-filter-npc | 优化 | 已完成 | [2026-01/202601211740_room-role-delete-filter-npc/](2026-01/202601211740_room-role-delete-filter-npc/) |
| 202601211915 | use-user-roles-by-type | 优化 | 已完成 | [2026-01/202601211915_use-user-roles-by-type/](2026-01/202601211915_use-user-roles-by-type/) |

---

## 按月归档

### 2026-01

- [202601310103_unread-title-debug](2026-01/202601310103_unread-title-debug/) - 修复：新增未读调试日志开关，输出未读统计细节
- [202601310016_unread-title-realtime](2026-01/202601310016_unread-title-realtime/) - 修复：聊天页未读数在进入时持续累加，标签仅显示实时未读
- [202601302255_kp-role-select](2026-01/202601302255_kp-role-select/) - 变更：KP 发言角色选择可切换到所有角色
- [202601291856_fix-eslint-lint](2026-01/202601291856_fix-eslint-lint/) - 修复：修复 eslint 错误（AudioMessage Hooks 规则 + SpaceWorkspace 未使用参数）
- [202601291407_remove-bgm-floatball](2026-01/202601291407_remove-bgm-floatball/) - 变更：移除房间级 BGM 悬浮球组件（统一使用全局音频悬浮球）
- [202601281955_audio-upload-debug](2026-01/202601281955_audio-upload-debug/) - 变更：音频上传/转码/发送调试日志开关（DEV）
- [202601281840_audio-send-nan](2026-01/202601281840_audio-send-nan/) - 修复：发送语音消息 second=NaN 导致发送失败
- [202601281930_audio-playback-floatball](2026-01/202601281930_audio-playback-floatball/) - 功能：全局音频悬浮球（聚合所有正在播放的音频并提供列表视图）
- [202601272208_audio-stream](2026-01/202601272208_audio-stream/) - 变更：音频播放改为流式进度条组件
- [202601272047_blocksuite-mention-overlay-v3](2026-01/202601272047_blocksuite-mention-overlay-v3/) - 修复：CSS 全屏下 @ 弹窗挂载策略兜底
- [202601271925_blocksuite-mention-overlay-v2](2026-01/202601271925_blocksuite-mention-overlay-v2/) - 修复：全屏画布下 @ 弹窗挂载位置补充
- [202601271841_blocksuite-mention-overlay](2026-01/202601271841_blocksuite-mention-overlay/) - 修复：Blocksuite 全屏画布下 @ 弹窗被遮挡
- [202601270403_docfolder_docref_drop](2026-01/202601270403_docfolder_docref_drop/) - 功能：聊天文档卡片支持拖拽复制到“我的文档”（docFolder）
- [202601270013_docref_sidebar_drop_fix](2026-01/202601270013_docref_sidebar_drop_fix/) - 修复：聊天文档卡片拖拽到侧边栏无响应（docRef 兜底 + drop 可触发）
- [202601262156_doc_message_drag_copy_to_sidebar](2026-01/202601262156_doc_message_drag_copy_to_sidebar/) - 功能：聊天列表的文档卡片支持拖拽复制到 sidebarTree（KP）
- [202601262154_remove-name-mismatch-star](2026-01/202601262154_remove-name-mismatch-star/) - 变更：移除聊天消息发言人名不一致/自定义名称的 `*` 提示
- [202601262104_doc_copy_content_fix](2026-01/202601262104_doc_copy_content_fix/) - 修复：复制文档时从源 doc 导出 full update 并 restore 到目标 doc，避免正文丢失
- [202601261943_doc_copy_snapshot](2026-01/202601261943_doc_copy_snapshot/) - 修复：复制文档时强制校验源快照可读，并写入 `tc_header` 防止副本标题/封面被覆盖
- [202601261920_doc_message_copy_space_doc_fix](2026-01/202601261920_doc_message_copy_space_doc_fix/) - 修复：文档消息“复制到空间侧边栏”按 `space_doc(sdoc)` 创建并写入 sidebarTree 引用
- [202601261854_doc_message_copy](2026-01/202601261854_doc_message_copy/) - 文档卡片消息右键菜单支持复制为副本（我的文档/空间侧边栏）
- [202601261703_sidebar_tree_doc_cache](2026-01/202601261703_sidebar_tree_doc_cache/) - sidebarTree 文档节点首屏缓存展示（标题/封面）
- [202601261150_doccard_render_fix](2026-01/202601261150_doccard_render_fix/) - 修复文档卡片消息在消息列表不显示（extra 兼容渲染）
- [202601261131_docref_drag_hint](2026-01/202601261131_docref_drag_hint/) - 文档拖拽到聊天区域时展示投放提示
- [202601252318_docref_drag_drop_fix](2026-01/202601252318_docref_drag_drop_fix/) - 修复文档引用拖拽到聊天输入框/消息列表无响应
- [202601252218_docref_rename](2026-01/202601252218_docref_rename/) - Chat 文档拖拽引用工具重命名：`dndDocRef` → `docRef`
- [202601241705_chat-mention-all](2026-01/202601241705_chat-mention-all/) - KP 聊天 @ 提及列表新增 @All（检定请求）
- [202601242230_chat_avatar_runtime_default](2026-01/202601242230_chat_avatar_runtime_default/) - 房间加载/导入/发送时运行时解析 avatarId（不强制持久化），缺失时显示为空占位
- [202601242032_chat_import_fill_avatar_map](2026-01/202601242032_chat_import_fill_avatar_map/) - 聊天导入头像选择兜底（已被 202601242230 覆盖）
- [202601232244_role-avatar-render-edit](2026-01/202601232244_role-avatar-render-edit/) - 角色页面渲染预览内支持修改已有头像
- [202601232105_webgal_avatar_realtime_sync](2026-01/202601232105_webgal_avatar_realtime_sync/) - WebGAL ????????

- [202601232052_chat_import_preserve_speaker_name](2026-01/202601232052_chat_import_preserve_speaker_name/) - 聊天导入保留原发言人名
- [202601232052_chat_text_selection](2026-01/202601232052_chat_text_selection/) - 聊天气泡文本选区保持
- [202601231857_chat-drag-auto-scroll](2026-01/202601231857_chat-drag-auto-scroll/) - 拖拽移动消息时支持顶部/底部自动滚动

- [202601231852_role-avatar-replace](2026-01/202601231852_role-avatar-replace/) - 角色页面支持替换已有头像（保持 avatarId）
- [202601231851_role_avatar_fallback](2026-01/202601231851_role_avatar_fallback/) - 房间角色导入头像兜底显示（avatarId 为空时取首个头像）
- [202601231830_webgal_disable_autojump](2026-01/202601231830_webgal_disable_autojump/) - WebGAL 实时渲染消息写入不再自动跳转预览
- [202601222021_room_avatar_fallback](2026-01/202601222021_room_avatar_fallback/) - 修复房间初次导入无头像：头像缺失/加载失败时回退到默认头像
- [202601211915_use-user-roles-by-type](2026-01/202601211915_use-user-roles-by-type/) - 获取“我的角色”改用 `GET /role/user/type`（type=0/1 合并），避免取回 NPC
- [202601211740_room-role-delete-filter-npc](2026-01/202601211740_room-role-delete-filter-npc/) - 房间角色支持移除 NPC；角色页（/role）隐藏 NPC；导入我的角色过滤 NPC
- [202601211700_chat_import_ui_refine](2026-01/202601211700_chat_import_ui_refine/) - 文本导入弹窗 UI 重构：双栏布局、预览、缺失映射提示与快捷创建入口
- [202601211623_chat_import_figure_position](2026-01/202601211623_chat_import_figure_position/) - 文本导入支持为发言人设置立绘位置（左/中/右）
- [202601211600_blocksuite_mention_profile_popover](2026-01/202601211600_blocksuite_mention_profile_popover/) - Blocksuite 文档内用户 mention 支持点击跳转个人主页 + 悬浮预览个人主页
- [202601201638_blocksuite_disable_debug_logs](2026-01/202601201638_blocksuite_disable_debug_logs/) - Blocksuite 默认关闭 debug 控制台输出（需显式开启）
- [202601201622_blocksuite_mention_remove_at](2026-01/202601201622_blocksuite_mention_remove_at/) - Blocksuite 文档内 mention 节点移除 `@` 前缀（头像+用户名已足够）
- [202601201551_blocksuite_mention_inline_avatar](2026-01/202601201551_blocksuite_mention_inline_avatar/) - Blocksuite 文档内 `@mention` 展示头像与用户名（自定义 `<affine-mention />`）
- [202601201451_blocksuite_mention_user_profile](2026-01/202601201451_blocksuite_mention_user_profile/) - Blocksuite `@` 弹窗用户候选显示头像与用户名（基于 `/user/info` 缓存）
- [202601201439_room_npc_create](2026-01/202601201439_room_npc_create/) - 房间角色列表 NPC+ 直接创建 NPC（并加入空间 NPC 库）
- [202601201425_blocksuite_mention_user_submenu](2026-01/202601201425_blocksuite_mention_user_submenu/) - Blocksuite `@` 弹窗用户列表收口为二级入口（默认仅“展开用户列表”），提升文档选择体验
- [202601201337_chat_import_text](2026-01/202601201337_chat_import_text/) - 新增聊天室文本导入（txt → 多条消息，按角色名映射发送）
- [202601192104_merge-rerere](2026-01/202601192104_merge-rerere/) - 合并冲突自动解决与rerere启用
- [202601192227_lint-fix](2026-01/202601192227_lint-fix/) - 修复 lint 警告
- [202601070338_blocksuite_docs](2026-01/202601070338_blocksuite_docs/) - Blocksuite 依赖文档补全（0.22.4）
- [202601070431_blocksuite_docs_0_22_4](2026-01/202601070431_blocksuite_docs_0_22_4/) - Blocksuite 0.22.4 文档方案（未执行归档：已由 blocksuite_docs 覆盖）
- [202601070539_blocksuite_docs_0224](2026-01/202601070539_blocksuite_docs_0224/) - Blocksuite 0.22.4 文档方案（未执行归档：已由 blocksuite_docs 覆盖）
- [202601081220_blocksuite_css_regression](2026-01/202601081220_blocksuite_css_regression/) - BlockSuite CSS 回归修复（按需加载 + KaTeX 全局副作用隔离）
- [202601082056_blocksuite_strict_style_isolation](2026-01/202601082056_blocksuite_strict_style_isolation/) - BlockSuite 嵌入场景样式强隔离（已废弃：Shadow DOM 引发 Selection/Range 兼容性问题）
- [202601082212_blocksuite_style_isolation_official](2026-01/202601082212_blocksuite_style_isolation_official/) - BlockSuite 嵌入场景样式隔离（官方兼容：作用域样式注入 + 上游副作用补丁）
- [202601082245_blocksuite_iframe_isolation](2026-01/202601082245_blocksuite_iframe_isolation/) - BlockSuite 嵌入场景 iframe 强隔离（最稳）
- [202601110311_blocksuite_ssr_doc_metas](2026-01/202601110311_blocksuite_ssr_doc_metas/) - 修复 SSR 评估阶段静态引入 Blocksuite workspace 依赖链触发 `document is not defined`
- [202601110741_blocksuite_ssr_safe_imports](2026-01/202601110741_blocksuite_ssr_safe_imports/) - 修复 SSR 评估阶段静态引入 blocksuite runtime（deleteSpaceDoc 动态 import）
- [202601111227_webgal_realtime_create_game_no_template](2026-01/202601111227_webgal_realtime_create_game_no_template/) - WebGAL 实时渲染创建游戏不使用模板，创建失败直接返回失败
- [202601111240_webgal_settings_terre_port_indexeddb](2026-01/202601111240_webgal_settings_terre_port_indexeddb/) - WebGAL 实时预览支持配置 Terre 端口，设置改为 IndexedDB 持久化
- [202601131356_ai_image](2026-01/202601131356_ai_image/) - 新增 AI 生图测试页（Electron 代理 NovelAI）
- [202601131515_sidebar_tree_restore](2026-01/202601131515_sidebar_tree_restore/) - Chat sidebarTree 分类/重置/创建与文档路由对齐
- [202601131558_create_tabs](2026-01/202601131558_create_tabs/) - 分类“+”创建入口改为标签页式单弹窗
- [202601131930_blocksuite_doc_header_bar](2026-01/202601131930_blocksuite_doc_header_bar/) - Blocksuite 描述文档自定义“图片+标题”头部（tc_header）+ room/space 乐观显示
- [202601140100_sidebar_doc_style](2026-01/202601140100_sidebar_doc_style/) - sidebarTree 文档节点字号/图标对齐房间
- [202601140107_quill_reference_audit](2026-01/202601140107_quill_reference_audit/) - Quill 引用统计审计报告（待后续去 Quill 化）
- [202601140226_clue_doc_planA](2026-01/202601140226_clue_doc_planA/) - 线索（space_clue）文档化入口：正文改为 Blocksuite，移除 description/note 编辑入口
- [202601140238_webgal_space_vars](2026-01/202601140238_webgal_space_vars/) - WebGAL 空间变量系统：导演控制台设置变量 + WEBGAL_VAR 消息类型
- [202601140247_doc_meta_restore](2026-01/202601140247_doc_meta_restore/) - 修复文档刷新后侧边栏丢失/重置默认无效（基于 sidebarTree 回补 doc metas）
- [202601140302_clue_detail_ui_refactor](2026-01/202601140302_clue_detail_ui_refactor/) - 线索详情弹窗 UI 重构（全屏 + 顶部固定 + 大视口文档）
- [202601140300_novelai_openapi_codegen](2026-01/202601140300_novelai_openapi_codegen/) - NovelAI OpenAPI 导出与 TS 客户端生成
- [202601140410_ai_image_novelapi_proxy](2026-01/202601140410_ai_image_novelapi_proxy/) - AI 生图页接入 /api/novelapi 同源代理，新增 img2img 与本地历史/下载
- [202601140425_blocksuite_header_title_style](2026-01/202601140425_blocksuite_header_title_style/) - Blocksuite 描述文档 tcHeader 标题样式对齐原生 doc-title，并加固禁用内置标题逻辑
- [202601140543_open-first-room](2026-01/202601140543_open-first-room/) - 修复空间模式首次进入跳到 `/chat/<spaceId>/null`（按自定义排序进入首个房间）
- [202601140558_ai_image_ui_novelai](2026-01/202601140558_ai_image_ui_novelai/) - AI 生图页 UI 重构，对齐 NovelAI Image Generation（novelai.net/image）
- [202601140604_director_set_var](2026-01/202601140604_director_set_var/) - 导演控制台支持设置 WebGAL 空间变量（保留 `/var set ...` 快捷方式）
- [202601141319_blocksuite_title_conflict_fix](2026-01/202601141319_blocksuite_title_conflict_fix/) - 修复 tcHeader 与内置 doc-title 并存，并重写 tcHeader 标题样式以抵御 iframe 注入/重置影响
- [202601141740_lint_fix](2026-01/202601141740_lint_fix/) - 修复 ESLint 报错/告警（hooks deps / unused vars / 正则回溯 / node process）
- [202601141830_blocksuite_doc_title_reset](2026-01/202601141830_blocksuite_doc_title_reset/) - 修复 Blocksuite 双标题：加固禁用 doc-title（fragment）并提供内置标题重置按钮
- [202601141920_ai_image_novelai](2026-01/202601141920_ai_image_novelai/) - AI 生图页重写：运行时模型拉取（失败降级）+ 仅保留 IndexedDB 历史 + Electron clientsettings IPC
- [202601142115_ai_image_dev_only](2026-01/202601142115_ai_image_dev_only/) - AI 生图调试增强：token 本地持久化 + 路由仅开发环境可用
- [202601142140_blocksuite_doc_title_optional_container](2026-01/202601142140_blocksuite_doc_title_optional_container/) - 让 `<doc-title>` 不再固定插入：使用 tc-affine-editor-container 按需渲染
- [202601142246_ai_image_meta_endpoint_fix](2026-01/202601142246_ai_image_meta_endpoint_fix/) - 修复 AI 生图模型运行时拉取端点：`/user/*` 固定走 api.novelai.net
- [202601142250_command_request_button](2026-01/202601142250_command_request_button/) - 跑团检定请求按钮消息：KP 发送 `@All` 指令生成按钮，成员点击后以自身角色在原 thread 执行
- [202601151614_command_request_message_type](2026-01/202601151614_command_request_message_type/) - 检定请求升级为独立消息类型 `COMMAND_REQUEST(12)`（前后端一致）
- [202601142337_ai_image_proxy_env](2026-01/202601142337_ai_image_proxy_env/) - 修复 NovelAPI 同源代理连接超时 502：支持读取本机代理环境变量
- [202601151630_ai_image_direct_fetch](2026-01/202601151630_ai_image_direct_fetch/) - AI 生图 Web 端默认直连 NovelAI（Connection 可切换同源代理）
- [202601151809_ai_image_default_proxy](2026-01/202601151809_ai_image_default_proxy/) - AI 生图 Web 默认切回同源代理（并持久化请求方式）
- [202601151716_blocksuite-tc-header-mode-switch](2026-01/202601151716_blocksuite-tc-header-mode-switch/) - 空间资料 Blocksuite 画布切换入口收口到 tcHeader，并移除外部 mode 控制通道
- [202601161120_novelai_nl_image_simple](2026-01/202601161120_novelai_nl_image_simple/) - AI 生图 Simple：自然语言 → tags → 出图（可回填到高级面板）
- [202601171345_blocksuite-mention-fix](2026-01/202601171345_blocksuite-mention-fix/) - 修复 Blocksuite 空间描述 @ 提及重复插入与弹窗不关闭
- [202601171400_blocksuite-canvas-inline](2026-01/202601171400_blocksuite-canvas-inline/) - 画布切换改为非全屏：仅占据原文档区域
- [202601171414_blocksuite-mention-fix2](2026-01/202601171414_blocksuite-mention-fix2/) - 加固 Blocksuite 空间描述 @ 提及弹窗关闭与重复触发
- [202601171430_room-setting-height](2026-01/202601171430_room-setting-height/) - 房间资料页移除 `max-h-[80vh]` 限制，修复底部留白
- [202601171438_blocksuite-mention-debug](2026-01/202601171438_blocksuite-mention-debug/) - 增加 Blocksuite @ 提及调试日志
- [202601171458_novelai_model_lock_45_full](2026-01/202601171458_novelai_model_lock_45_full/) - AI 生图模型锁定为 NAI v4.5 Full（`nai-diffusion-4-5-full`）
- [202601171622_blocksuite-mention-click-debug](2026-01/202601171622_blocksuite-mention-click-debug/) - 增强 Blocksuite @ 提及点击链路调试：iframe 内捕获点击事件路径摘要
- [202601171640_mention-tc-header-title](2026-01/202601171640_mention-tc-header-title/) - `@`（Linked Doc）候选列表标题优先使用 `tc_header.title`
- [202601171657_blocksuite-mention-host-click-debug](2026-01/202601171657_blocksuite-mention-host-click-debug/) - 增强 Blocksuite @ 提及点击链路调试：宿主侧捕获 portal 到 iframe 外的点击事件路径摘要
- [202601171723_blocksuite-mention-enter-debug](2026-01/202601171723_blocksuite-mention-enter-debug/) - 增强 Blocksuite @ 提及键盘确认调试：Enter 时输出 activeElement/probe 信息
- [202601171745_blocksuite-mention-insert-fix](2026-01/202601171745_blocksuite-mention-insert-fix/) - 修复 Blocksuite 空间描述 @ 提及重复插入（成员提及插入链路）
- [202601171831_doc_sidebar_tc_header](2026-01/202601171831_doc_sidebar_tc_header/) - sidebarTree 独立文档启用 tcHeader（标题/封面）并在列表展示缩略图
- [202601171843_blocksuite-kb-notes](2026-01/202601171843_blocksuite-kb-notes/) - Blocksuite 豆知识沉淀：mention=embed、linked-doc popover、StrictMode 多次 mount 等
- [202601171854_ai_image_settings_modal](2026-01/202601171854_ai_image_settings_modal/) - AI 生图页连接设置弹窗化（右上角设置）
- [202601171905_project_kb_expand](2026-01/202601171905_project_kb_expand/) - 完善现有项目知识库：补齐 Chat/Blocksuite/WebGAL/AI 生图模块文档与本地开发工作流
- [202601171911_tc_header_no_reload](2026-01/202601171911_tc_header_no_reload/) - 修复编辑 tcHeader 导致 blocksuite iframe 反复重载
- [202601171932_novelapi_proxy_stream_fix](2026-01/202601171932_novelapi_proxy_stream_fix/) - 修复 `/api/novelapi/*` 同源代理偶发 500（流式转发 pipeline 化）
- [202601172026_ai_image_v4_params](2026-01/202601172026_ai_image_v4_params/) - 修复 NAI v4/v4.5 出图 500：对齐 `params_version=3` 与 `v4_prompt` 参数结构
- [202601172100_ai_image_char_bg_layout](2026-01/202601172100_ai_image_char_bg_layout/) - AI 生图支持 v4/v4.5 “背景/角色”分区（`char_captions`）并对齐普通/专业模式三栏布局
- [202601172234_tc_header_upload_and_doc_lazy](2026-01/202601172234_tc_header_upload_and_doc_lazy/) - 修复 tc_header 头像上传（iframe 裁剪弹窗）并优化空间文档懒加载（不全量 load / pull 不写回）
- [202601211604_auth_401_handling](2026-01/202601211604_auth_401_handling/) - 认证：HTTP 401 自动清理登录态并跳转登录页；WS token 失效（type=100）同样引导重新登录


## ??

| ??? | ???? | ?? | ?? | ????? |
|--------|----------|------|------|------------|
| 202601232105 | WebGAL ???????? | ?? | ???? | [??](2026-01/202601232105_webgal_avatar_realtime_sync/) |

## 2026-01
- 202601241857_chat-avatar-default
- 202601241838_chat-avatar-fallback
